<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- ваша верстка виджета, ваши стили -->
  <div class="widget">
  <button class="arrow left">⇦</button>



  <ul>
    <li><img src="https://js.cx/carousel/1.png"></li>
    <li><img src="https://js.cx/carousel/2.png"></li>
    <li><img src="https://js.cx/carousel/3.png"></li>
    <li><img src="https://js.cx/carousel/4.png"></li>
    <li><img src="https://js.cx/carousel/5.png"></li>
    <li><img src="https://js.cx/carousel/6.png"></li>
    <li><img src="https://js.cx/carousel/7.png"></li>
    <li><img src="https://js.cx/carousel/8.png"></li>
    <li><img src="https://js.cx/carousel/9.png"></li>
    <li><img src="https://js.cx/carousel/10.png"></li>
  </ul>
  
  <button class="arrow right">⇨</button>
  </div>

  <script>
    // этот код помечает картинки цифрами, для удобства разработки
    // его можно убрать, если не нужен
    var lis = document.getElementsByTagName('li');
    for (var i = 3; i < lis.length; i++) {
      lis[i].style.visibility = 'hidden';
    }
    
    var buttonLeft = document.body.querySelector('.left');
    var buttonRight = document.body.querySelector('.right');
    var ul = document.body.querySelector('ul');

    buttonRight.onclick = function() {
      var box = ul.lastElementChild.getBoundingClientRect();
      if (box.right > buttonRight.offsetLeft + lis[0].offsetWidth * 2) {
        ul.style.left = ul.offsetLeft - lis[0].offsetWidth * 3 + 'px';
        setVisibility();
      }
      else if (box.right > buttonRight.offsetLeft + lis[0].offsetWidth) {
        ul.style.left = ul.offsetLeft - lis[0].offsetWidth * 2 + 'px';
        setVisibility();
      }
      else if (box.right > buttonRight.offsetLeft) {
        ul.style.left = ul.offsetLeft - lis[0].offsetWidth + 'px';
        setVisibility();
      }
    }
    
    buttonLeft.onclick = function() {
      //ul.addEventListener("transitionend", setVisibility)
      var box = ul.firstElementChild.getBoundingClientRect();
      if (box.left < buttonLeft.offsetLeft - lis[0].offsetWidth * 2) {
        ul.style.left = ul.offsetLeft + lis[0].offsetWidth * 3 + 'px';
        setVisibility();
      }
      else if (box.left < buttonLeft.offsetLeft - lis[0].offsetWidth) {
        ul.style.left = ul.offsetLeft + lis[0].offsetWidth * 2 + 'px';
        setVisibility();
      }
      else if (box.left < buttonLeft.offsetLeft) {
        ul.style.left = ul.offsetLeft + lis[0].offsetWidth + 'px';
        setVisibility();
      }
    }
    
    function setVisibility() {
        for (i = 0; i < lis.length; i++) {
        var liCoords = lis[i].getBoundingClientRect();
        //alert(liCoords.left);
        //alert(buttonLeft.offsetLeft + buttonLeft.offsetWidth);
        if (liCoords.left > (buttonLeft.offsetLeft + buttonLeft.offsetWidth) &&
            liCoords.right < buttonRight.offsetLeft ) {
              lis[i].style.visibility = 'visible';
        }
        else {
          lis[i].style.visibility = 'hidden';
        }
      }
    }
  </script>

</body>

</html>